EXEC MI_ACCION;
/
BEGIN
    DBMS_SCHEDULER.DROP_CHAIN('CHAIN');
END;
/
BEGIN 
    DBMS_SCHEDULER.CREATE_CHAIN(
        CHAIN_NAME => 'CHAIN',
        RULE_SET_NAME => NULL,
        EVALUATION_INTERVAL => INTERVAL '1' MINUTE, 
        COMMENTS => 'MI_PRIMER_CHAIN'
    );
END;
/
BEGIN
    DBMS_SCHEDULER.DEFINE_CHAIN_STEP(
        CHAIN_NAME => 'CHAIN',
        STEP_NAME => 'STEP_1',
        PROGRAM_NAME => 'MI_ACCION'
    );
    DBMS_SCHEDULER.DEFINE_CHAIN_STEP(
        CHAIN_NAME => 'CHAIN',
        STEP_NAME => 'STEP_2',
        PROGRAM_NAME => 'MI_ACCION'
    );
END;
/
BEGIN
    DBMS_SCHEDULER.DEFINE_CHAIN_RULE(
        CHAIN_NAME => 'CHAIN',
        CONDITION => 'TRUE',
        ACTION => 'START STEP_1',
        RULE_NAME => 'MY_RULE_1',
        COMMENTS => 'START THE CHAIN'        
    );
    DBMS_SCHEDULER.DEFINE_CHAIN_RULE(
        CHAIN_NAME => 'CHAIN',
        CONDITION => 'STEP_1 COMPLETED',
        ACTION => 'START STEP_2',
        RULE_NAME => 'MY_RULE2'
    );
END;
/
BEGIN
    DBMS_SCHEDULER.CREATE_JOB(
        JOB_NAME => 'ACCION_CHAIN',
        JOB_TYPE => 'CHAIN',
        JOB_ACTION => 'CHAIN',
        START_DATE => '16-OCT-19 07.00.00 PM',
        REPEAT_INTERVAL => 'FREQ=SECONDLY;INTERVAL=10',
        END_DATE => '17-OCT-19 07.00.00 PM',
        AUTO_DROP => FALSE,
        COMMENTS => 'MI NUEVA CHAIN');
END ;
/
EXEC DBMS_SCHEDULER.ENABLE('CHAIN');
/
EXEC DBMS_SCHEDULER.DISABLE('CHAIN');
/
begin
    dbms_scheduler.drop_chain('CHAIN');
end;
/
SELECT * FROM ALL_OBJECTS WHERE OBJECT_NAME LIKE 'CHAIN'
/
BEGIN
    DBMS_SCHEDULER.CREATE_CHAIN(
        CHAIN_NAME => 'CHAIN',
        RULE_SET_NAME => NULL,
        EVALUATION_INTERVAL => INTERVAL '10' MINUTE,
        COMMENTS => 'CHAIN WITH 10 SECOND INTERVAL'
    );
END;
/

EXEC DBMS_SCHEDULER.ENABLE('ACCION_CHAIN');

/
SELECT * FROM ALL_OBJECTS WHERE OBJECT_NAME LIKE 'CHAIN' OR OBJECT_NAME LIKE 'ACCION_CHAIN';
/
DELETE HR.HORA
/
SELECT * FROM HR.HORA
/
BEGIN
    DBMS_SCHEDULER.DROP_JOB('ACCION_CHAIN');
END;
